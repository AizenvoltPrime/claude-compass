# Claude Compass Webhook Server Configuration
# Copy this file to .env and update with your actual values

# ============================================
# REQUIRED: Webhook Security
# ============================================
# Secret key for authenticating webhook requests from Hetzner
# MUST match the WEBHOOK_SECRET in your Hetzner watcher script
# Generate with: openssl rand -hex 32
WEBHOOK_SECRET=your-super-secret-key-change-this

# ============================================
# REQUIRED: Path Configuration
# ============================================
# Path to Claude Compass installation on WSL
COMPASS_PATH=/home/YOUR_USERNAME/Documents/claude-compass

# Local path where files will be synced to (on WSL)
# This is where Claude Compass will analyze files from
LOCAL_PROJECT_PATH=/home/YOUR_USERNAME/Documents/project_name

# ============================================
# REQUIRED: Remote Server Connection
# ============================================
# SSH connection string to your Hetzner server
# Format: username@hostname_or_ip
# Example: root@10.200.0.28 or user@example.com
REMOTE_HOST=username@YOUR_HETZNER_IP

# Absolute path to your project on the Hetzner server
REMOTE_PROJECT_PATH=/var/www/project_name

# ============================================
# REQUIRED: SSH Tunnel Configuration
# ============================================
# Port for webhook server and SSH reverse tunnel
# Must match the port in your Hetzner watcher script
TUNNEL_PORT=3456

# ============================================
# OPTIONAL: Sync Strategy
# ============================================
# How files are synced from Hetzner to WSL
# Options:
#   - 'incremental': Only sync changed files (FASTER - recommended)
#   - 'full': Sync entire project every time (SLOWER but safer)
SYNC_STRATEGY=incremental

# ============================================
# OPTIONAL: Analysis Configuration
# ============================================
# Enable/disable automatic analysis after file sync
# Set to 'false' to only sync files without triggering analysis
# Default: true (analysis enabled)
# ENABLE_ANALYSIS=true

# Flags to pass to the analyze command
# Common flags:
#   --verbose             Enable detailed logging
#   --skip-embeddings     Skip vector search (faster, dependencies only)
#   --force-full          Force full analysis (clears existing data)
#   --no-test-files       Exclude test files from analysis
# Default: --verbose
# Examples:
#   ANALYSIS_FLAGS="--verbose --skip-embeddings"           # Fast mode (no vector search)
#   ANALYSIS_FLAGS="--verbose --force-full"                # Full re-analysis every time
#   ANALYSIS_FLAGS="--verbose --no-test-files"             # Skip test files
ANALYSIS_FLAGS=--verbose

# ============================================
# OPTIONAL: Advanced Configuration
# ============================================
# Batch delay (milliseconds) - wait time before processing batched file changes
# Default: 3000ms (3 seconds)
# Higher values = batch more changes together
# Lower values = faster response to individual changes
BATCH_DELAY_MS=3000
